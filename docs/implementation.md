# Implementation
## General structure
`Generator` is the main class of the program and it drives the flow of the generation. Main algorithms are mostly defined here, although things that are done often and are more specific to their respective data structures are defined inside them. For example, checking for Delaunay condition is done inside the `Triangle` class and `Array` has merge sort.

`Generator` calls the functions running each step either automatically (for headless mode) or after receiving user input. 

## Algorithms
### Pseudorandom number generation
Time: Mersenne twister `O(1)`

Space: Mersenne twister `O(1)`

### Merge sort
Time: Stable merge sort `O(n log n)`

Space: Stable merge sort `O(n)`

### Delaunay triangulation (Bowyer-Watson)
Time: `O(n^2)`

Space: `O(n + t + b)`
where `n` is the number of main rooms, `t` is the number of triangles and `b` is the number of bad triangles.

### Kruskal's algorithm
`e` refers to the number of edges in the graph generated by Delaunay triangulation

`v` refers to the number of vertices (i.e. picked main rooms) in the graph generated by Delaunay triangulation

Time: `O(e log v)`

Space: `O(e + v)`

## Problems
- The program uses `std::copy` from the standard library to replace `memcpy` for objects with copy constructors. This could be trivially replaced with a for-loop, but would be slightly slower for simple types.

- Converting data structures into json format does not produce valid json for strings (missing quotation marks). This could have been fixed by defining different functions for all combinations of `std::string` types, but since they aren't printed in the output, I ultimately decided against it.

## Sources
[Mersenne Twister](https://en.wikipedia.org/wiki/Mersenne_Twister)

[Mersenne Twister time complexity](https://stackoverflow.com/questions/25651532/what-is-the-time-complexity-of-the-mersenne-twister)

[Sorting algorithms](https://en.wikipedia.org/wiki/Sorting_algorithm)

[Bowyer-Watson algorithm](https://en.wikipedia.org/wiki/Bowyer%E2%80%93Watson_algorithm)

[Kruskal's algorithm](https://en.wikipedia.org/wiki/Kruskal%27s_algorithm)

[Kruskal's algorithm space complexity](https://efficientcodeblog.wordpress.com/2017/12/11/kruskals-algorithm-implementation/)

[std::copy vs for-loop](https://stackoverflow.com/questions/29099564/what-is-the-benefit-of-using-stdcopy-instead-of-manual-for-loop-to-copy-dynami)
